<!DOCTYPE html>
<html lang="{{ site.lang | default: "en-US" }}">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{% if page.title %}{{ page.title }}{% else %}{{ site.title }}{% endif %}</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="{% if page.description %}{{ page.description }}{% else %}{{ site.description }}{% endif %}">
    <meta name="keywords" content="Solano County, civic data, government transparency, municipal budgets, {% if page.title contains 'Public Funds' %}public spending, budget analysis, {% endif %}{% if page.title contains 'Topics' %}housing policy, impact fees, {% endif %}Fairfield, Vallejo, Vacaville, Suisun City, Benicia, Dixon, Rio Vista, California">
    <meta name="author" content="OpenSolano">
    <link rel="canonical" href="{{ page.url | absolute_url }}">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="{% if page.title %}{{ page.title }}{% else %}{{ site.title }}{% endif %}">
    <meta property="og:description" content="{% if page.description %}{{ page.description }}{% else %}{{ site.description }}{% endif %}">
    <meta property="og:url" content="{{ page.url | absolute_url }}">
    <meta property="og:site_name" content="OpenSolano">
    <meta property="og:locale" content="en_US">
    <meta property="og:image" content="{{ '/assets/images/logo2.png' | absolute_url }}">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@opensolano">
    <meta name="twitter:creator" content="@opensolano">
    <meta name="twitter:title" content="{% if page.title %}{{ page.title }}{% else %}{{ site.title }}{% endif %}">
    <meta name="twitter:description" content="{% if page.description %}{{ page.description }}{% else %}{{ site.description }}{% endif %}">
    <meta name="twitter:image" content="{{ '/assets/images/logo2.png' | absolute_url }}">
    
    <!-- Schema.org Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "OpenSolano",
      "description": "{{ site.description }}",
      "url": "{{ site.url }}",
      "logo": "{{ '/assets/images/logo2.png' | absolute_url }}",
      "sameAs": [
        "https://x.com/opensolano"
      ],
      "areaServed": {
        "@type": "AdministrativeArea",
        "name": "Solano County",
        "containedInPlace": {
          "@type": "AdministrativeArea",
          "name": "California"
        }
      },
      "address": {
        "@type": "PostalAddress",
        "addressRegion": "CA",
        "addressCountry": "US"
      }
    }
    </script>
    
    {% if page.url == "/" %}
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "OpenSolano",
      "url": "{{ site.url }}",
      "description": "{{ site.description }}",
      "potentialAction": {
        "@type": "SearchAction",
        "target": {
          "@type": "EntryPoint",
          "urlTemplate": "{{ site.url }}/topics/?q={search_term_string}"
        },
        "query-input": "required name=search_term_string"
      }
    }
    </script>
    {% endif %}
    
    {% if page.url contains "/topics/" %}
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "CollectionPage",
      "name": "{{ page.title }}",
      "description": "{{ page.description }}",
      "url": "{{ page.url | absolute_url }}",
      "isPartOf": {
        "@type": "WebSite",
        "name": "OpenSolano",
        "url": "{{ site.url }}"
      },
      "about": [
        {
          "@type": "Thing",
          "name": "Municipal Budgets"
        },
        {
          "@type": "Thing", 
          "name": "Impact Fees"
        },
        {
          "@type": "Thing",
          "name": "Government Transparency"
        }
      ]
    }
    </script>
    {% endif %}
    
    {% if page.url contains "/public-funds/" %}
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebPage",
      "@id": "{{ page.url | absolute_url }}",
      "name": "{{ page.title }}",
      "description": "{{ page.description }}",
      "url": "{{ page.url | absolute_url }}",
      "isPartOf": {
        "@type": "WebSite",
        "name": "OpenSolano",
        "url": "{{ site.url }}"
      },
      "mainEntity": {
        "@type": "GovernmentService",
        "name": "Public Funds Tracker",
        "description": "Track public spending across Solano County municipalities",
        "provider": {
          "@type": "Organization",
          "name": "OpenSolano"
        },
        "areaServed": {
          "@type": "AdministrativeArea",
          "name": "Solano County, California"
        }
      }
    }
    </script>
    {% endif %}
    
    <!-- Additional Meta Tags -->
    <meta name="robots" content="index, follow">
    <meta name="googlebot" content="index, follow">
    <meta name="geo.region" content="US-CA">
    <meta name="geo.placename" content="Solano County, California">
    <meta name="ICBM" content="38.2444, -121.9681">
    
    <link rel="stylesheet" href="{{ "/assets/css/main.css" | relative_url }}">
    <script src="/assets/js/jquery.min.js"></script>
  </head>
  <body>

    <div class="bg-white">
      <!-- Header -->
      <header class="absolute inset-x-0 top-0 z-50 bg-white/80 backdrop-blur-sm border-b border-gray-200">
        <nav class="mx-auto flex max-w-7xl items-center justify-between p-6 lg:px-8" aria-label="Global">
          <div class="flex lg:flex-1">
            <a href="/" class="-m-1.5 p-1.5 flex items-center gap-2 focus:outline-none focus-visible:outline-none">
              <span class="sr-only">Open Solano</span>
              <img class="h-10 w-10 rounded-full" src="/assets/images/logo2.png" alt="Open Solano logo">
              <span class="text-base font-semibold text-gray-900 hidden sm:inline">Open Solano</span>
            </a>
          </div>
          <div class="flex lg:hidden">
            <button type="button"
              class="-m-2.5 inline-flex items-center justify-center rounded-md p-2.5 text-gray-700 sideNavToggleButton">
              <span class="sr-only">Open main menu</span>
              <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
              </svg>
            </button>
          </div>
          <div class="hidden lg:flex lg:gap-x-12">
            <a href="/jurisdictions" class="text-sm font-semibold leading-6 text-gray-900">Jurisdictions</a>
            <a href="/topics" class="text-sm font-semibold leading-6 text-gray-900">Topics</a>
            <a href="/public-funds" class="text-sm font-semibold leading-6 text-gray-900">Public Funds</a>
            <a href="/blog" class="text-sm font-semibold leading-6 text-gray-900">Blog</a>
            <a href="/meetup" class="text-sm font-semibold leading-6 text-gray-900">Meetup</a>
          </div>
          <div class="hidden lg:flex lg:flex-1 lg:justify-end">
            <a href="#" class="text-sm font-semibold leading-6 text-gray-900" hidden>Log in <span aria-hidden="true">&rarr;</span></a>
          </div>
        </nav>
        <!-- Mobile menu, show/hide based on menu open state. -->
        <div id="sideNav" class="lg:hidden" role="dialog" aria-modal="true" hidden>
          <!-- Background backdrop, show/hide based on slide-over state. -->
          <div class="fixed inset-0 z-50"></div>
          <div class="fixed inset-y-0 right-0 z-50 w-full overflow-y-auto bg-white px-6 py-6 sm:max-w-sm sm:ring-1 sm:ring-gray-900/10">
            <div class="flex items-center justify-between">
              <a href="/" class="-m-1.5 p-1.5 flex items-center gap-2 focus:outline-none focus-visible:outline-none">
                <span class="sr-only">Open Solano</span>
                <img class="h-10 w-10 rounded-full" src="/assets/images/logo2.png" alt="Open Solano logo">
                <span class="text-base font-semibold text-gray-900">Open Solano</span>
              </a>
              <button type="button" class="-m-2.5 rounded-md p-2.5 text-gray-700 sideNavToggleButton">
                <span class="sr-only">Close menu</span>
                <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                </svg>
              </button>
            </div>
            <div class="mt-6 flow-root">
              <div class="-my-6 divide-y divide-gray-500/10">
                <div class="space-y-2 py-6">
                  <a href="/jurisdictions" class="-mx-3 block rounded-lg px-3 py-2 text-base font-semibold leading-7 text-gray-900 hover:bg-gray-50">Jurisdictions</a>
                  <a href="/topics" class="-mx-3 block rounded-lg px-3 py-2 text-base font-semibold leading-7 text-gray-900 hover:bg-gray-50">Topics</a>
                  <a href="/public-funds" class="-mx-3 block rounded-lg px-3 py-2 text-base font-semibold leading-7 text-gray-900 hover:bg-gray-50">Public Funds</a>
                  <a href="/blog" class="-mx-3 block rounded-lg px-3 py-2 text-base font-semibold leading-7 text-gray-900 hover:bg-gray-50">Blog</a>
                  <a href="/meetup" class="-mx-3 block rounded-lg px-3 py-2 text-base font-semibold leading-7 text-gray-900 hover:bg-gray-50">Meetup</a>
                </div>
                <div class="py-6">
                  <a href="#" class="-mx-3 block rounded-lg px-3 py-2.5 text-base font-semibold leading-7 text-gray-900 hover:bg-gray-50" hidden>Log in</a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </header>

      {{ content }}
      
      {% include footer.html %}
    </div>
    <script>
      $(function() {
        $(".sideNavToggleButton").on("click", function() {
          if( $("#sideNav").is(":visible") === true ) {
            $("#sideNav").hide()
          } else {
            $("#sideNav").show()
          }
        })
      })
    </script>
  </body>
</html>
